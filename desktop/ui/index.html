<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FaceForge</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="brand">
        <div class="title">FaceForge</div>
        <div class="subtitle">Desktop Orchestrator</div>
      </div>
      <div class="actions">
        <button id="btn-open-ui" class="primary">Open UI</button>
        <button id="btn-status">Status</button>
        <button id="btn-logs">Logs</button>
        <button id="btn-start">Start</button>
        <button id="btn-stop">Stop</button>
        <button id="btn-restart">Restart</button>
      </div>
    </header>

    <section id="error-banner" class="banner hidden" role="status" aria-live="polite">
      <div class="banner-text">
        <div id="error-title" class="banner-title"></div>
        <div id="error-detail" class="banner-detail"></div>
      </div>
      <button id="btn-error-dismiss" class="banner-dismiss" title="Dismiss">Dismiss</button>
    </section>

    <main class="main">
      <section id="wizard" class="card hidden">
        <h2>System Settings</h2>
        <p class="muted">Configure the local data location and service ports.</p>

        <div class="settings-group">
          <label>
            <div class="label-row">
              <span>Data Directory</span>
              <span class="help-text">Where FaceForge stores database, files, and logs.</span>
            </div>
            <div class="row">
              <input id="home" type="text" placeholder="C:\FaceForge" />
              <button id="btn-browse">Browseâ€¦</button>
            </div>
          </label>

          <label>
            <div class="label-row">
              <span>Core Service Port</span>
              <span class="help-text">Localhost port for the API and Web UI.</span>
            </div>
            <input id="core_port" type="number" min="1" max="65535" />
          </label>
        </div>

        <h3>S3 Storage Configuration</h3>
        <div class="settings-group">
          <label class="checkbox">
            <input id="seaweed_enabled" type="checkbox" checked />
            <span>Enable S3 Storage</span>
          </label>

          <label>
            <div class="label-row">
              <span>Provider</span>
              <span class="help-text">Select the S3 compatible storage provider.</span>
            </div>
            <select id="s3_provider">
              <option value="seaweedfs">SeaweedFS (Bundled)</option>
            </select>
          </label>

          <label>
            <div class="label-row">
              <span>S3 Port</span>
              <span class="help-text">Localhost port for the S3 gateway.</span>
            </div>
            <input id="seaweed_port" type="number" min="1" max="65535" />
          </label>
        </div>

        <div class="footer">
          <button id="btn-suggest">Suggest ports</button>
          <button id="btn-save" class="primary">Save Configuration</button>
        </div>
      </section>

      <section id="status" class="card hidden">
        <h2>Status</h2>
        <div id="status-body" class="kv"></div>

        <h3>Install token</h3>
        <p class="muted">Core requires this token for API + UI login (stored in <code>FACEFORGE_HOME/config/core.json</code>).</p>
        <div class="row">
          <input id="token" type="text" readonly />
          <button id="btn-copy">Copy</button>
        </div>

        <h3>Exit</h3>
        <p class="muted">Closing this window hides it to the tray. Use the tray menu to Exit.</p>
      </section>

      <section id="logs" class="card hidden">
        <h2>Logs</h2>
        <p class="muted">For now this view is minimal; Core writes logs under <code>FACEFORGE_HOME/logs</code>.</p>
      </section>

      <section id="exit-modal" class="modal hidden">
        <div class="modal-card">
          <h2>Exit FaceForge Desktop</h2>
          <p>What should happen to the managed services?</p>
          <div class="footer">
            <button id="btn-exit-stop" class="danger">Stop services and exit</button>
            <button id="btn-exit-leave">Leave services running</button>
            <button id="btn-exit-cancel">Cancel</button>
          </div>
        </div>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
