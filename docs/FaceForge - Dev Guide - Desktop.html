<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FaceForge Desktop (Sprint 12)</title>

    <link rel="icon" href="styles/favicon/favicon.ico" sizes="any">
    <link rel="icon" href="styles/favicon/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="styles/favicon/apple-touch-icon.png">
    <link rel="manifest" href="styles/favicon/site.webmanifest">
    <meta name="msapplication-config" content="styles/favicon/browserconfig.xml">
    <link rel="stylesheet" href="styles/fonts/fonts.css">
    <link rel="stylesheet" href="styles/syntax.css">
    <style>:root { color-scheme: light dark; }
    body { max-width: 920px; margin: 40px auto; padding: 0 16px; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; line-height: 1.55; }
    code, pre { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    pre { padding: 12px 14px; overflow-x: auto; border: 1px solid rgba(127,127,127,.35); border-radius: 8px; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid rgba(127,127,127,.35); padding: 6px 8px; }
    blockquote { margin: 0; padding-left: 14px; border-left: 4px solid rgba(127,127,127,.35); }
    img { max-width: 100%; height: auto; }</style>
</head>
<body>
<h1 id="faceforge-desktop-sprint-12">FaceForge Desktop (Sprint 12)</h1>
<p>This folder contains the <strong>Desktop shell MVP</strong> (Tauri v2) that makes FaceForge feel like a real app:</p>
<ul>
<li>First-run wizard to choose <code>FACEFORGE_HOME</code> and ports</li>
<li>Local process orchestration (Core, optional SeaweedFS)</li>
<li>Tray UX (close-to-tray, Open UI, Status, Logs, Stop/Restart, Exit)</li>
</ul>
<h2 id="dev-run-windows">Dev run (Windows)</h2>
<p>Prereqs:</p>
<ul>
<li>Rust toolchain (stable)</li>
</ul>
<p>From the repo root:</p>
<ul>
<li><code>cargo tauri dev --manifest-path .\desktop\src-tauri\Cargo.toml</code></li>
</ul>
<p>Notes:</p>
<ul>
<li>Desktop launches Core using the repo-local <code>.venv\Scripts\python.exe</code> if present.</li>
<li>Desktop sets <code>PYTHONPATH</code> to <code>core\src</code> so Core can run without <code>pip install -e</code>.</li>
</ul>
<h2 id="settings-files">Settings + files</h2>
<p>On first run, Desktop asks for:</p>
<ul>
<li><code>FACEFORGE_HOME</code> (data directory)</li>
<li>Core port (default suggestion: 43210)</li>
<li>Optional SeaweedFS S3 port (default suggestion: 43211)</li>
</ul>
<p>Desktop writes:</p>
<ul>
<li><code>${FACEFORGE_HOME}/config/ports.json</code></li>
<li><code>${FACEFORGE_HOME}/config/core.json</code> (including <code>auth.install_token</code>)</li>
</ul>
<p>Desktop also stores a tiny bootstrap pointer in the OS app config directory so it can find the chosen <code>FACEFORGE_HOME</code> on subsequent runs.</p>
<h2 id="token-ux">Token UX</h2>
<p>Core requires a per-install token for non-health endpoints.</p>
<ul>
<li>Desktop displays the token and offers a copy button.</li>
<li>“Open UI” opens <code>/ui/login</code> so you can paste the token once (it becomes a cookie).</li>
</ul>
</body>
</html>
